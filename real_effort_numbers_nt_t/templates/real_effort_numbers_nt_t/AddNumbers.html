{% extends "global/Page.html" %}
{% load staticfiles otree %}
{% load i18n %}

{# ****************************************************************************************************************** #}
{# *** STYLES *** #}
{# ****************************************************************************************************************** #}
{% block styles %}
    <link href="{% static 'real_effort_numbers_nt_t/css/custom.css' %}" rel="stylesheet"/>
{% endblock %}
{# ****************************************************************************************************************** #}
{# *** TITLE *** #}
{# ****************************************************************************************************************** #}
{% block title %}
    {% comment %} Ronda {{round_number}} de {{Constants.num_rounds}} {% endcomment %}
    Jugador {{player.id_in_group}} Por favor realice las siguientes sumas
{% endblock %}

{% block content %}

 <div class="wrapper instructions">
    <p align = "justify">
    ({{player.participant.id_in_session}})
            {% comment %} Jugador {{player.id_in_group}} vs Jugador {{opponent_id}} ({{opponent_id_in_session}}). {% endcomment %}Por favor, sume los siguientes números que aparecerán en pantalla. Luego presione el botón <b>siguiente</b> 
            o la tecla <b>Enter</b> para continuar.
        <table class="table" style="text-align:right" colspan="2" >
            <tr>
                <td style="font-size:30px">{{ number_1 }} + {{ number_2 }} = </td>
                <td> <input type="number" name="number_entered" required id="id_number_entered" class="form-control" autofocus=""> </td>
            </tr>
        </table>
            <b>Sumas correctas:</b> <font color='blue'>{{correct_answers}}</font><br>
            <b>Sumas incorrectas:</b> <font color='red'>{{wrong_sums}}</font><br>
            <b>Sumas totales:</b> {{total_sums}}<br>
            <b>Pago por sumas:</b> ${{combined_payoff}}<br>
            <b><p id="display"></p>
            {% comment %} <b>Ronda {{round_label}} de 10</b> {% endcomment %}
    </p>
</div>
{% block scripts %}
<script>
    $(function myFunction() {
        $('.otree-timer__time-left').on('update.countdown', function (event) {
            if (event.offset.totalSeconds <= 600 && event.offset.totalSeconds >= 539) {
                document.getElementById("display").innerHTML = "Ronda 1 de 10";
            }
            if (event.offset.totalSeconds <= 540  && event.offset.totalSeconds >= 479)  {
                document.getElementById("display").innerHTML = "Ronda 2 de 10";
            }
            if (event.offset.totalSeconds <= 480 && event.offset.totalSeconds >= 419) {
                document.getElementById("display").innerHTML = "Ronda 3 de 10";
            }
            if (event.offset.totalSeconds <= 420 && event.offset.totalSeconds >= 359) {
                document.getElementById("display").innerHTML = "Ronda 4 de 10";
            }
            if (event.offset.totalSeconds <= 360 && event.offset.totalSeconds >= 299) {
                document.getElementById("display").innerHTML = "Ronda 5 de 10";
            }
            if (event.offset.totalSeconds <= 300 && event.offset.totalSeconds >= 239) {
                document.getElementById("display").innerHTML = "Ronda 6 de 10";
            }
            if (event.offset.totalSeconds <= 240 && event.offset.totalSeconds >= 179) {
                document.getElementById("display").innerHTML = "Ronda 7 de 10";
            }
            if (event.offset.totalSeconds <= 180 && event.offset.totalSeconds >= 119 ) {
                document.getElementById("display").innerHTML = "Ronda 8 de 10";
            }
            if (event.offset.totalSeconds <= 120 && event.offset.totalSeconds >= 59) {
                document.getElementById("display").innerHTML = "Ronda 9 de 10";
            }
            if (event.offset.totalSeconds <= 60 && event.offset.totalSeconds >= 1) {
                document.getElementById("display").innerHTML = "Ronda 10 de 10";
            }
        });
    });
</script>
{% endblock %}
{% next_button %}
{% endblock %}
